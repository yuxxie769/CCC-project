{"remainingRequest":"/Users/gutiancheng/Desktop/ccc_proj2/COMP90024_Project2_v_4/frontend/node_modules/babel-loader/lib/index.js!/Users/gutiancheng/Desktop/ccc_proj2/COMP90024_Project2_v_4/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gutiancheng/Desktop/ccc_proj2/COMP90024_Project2_v_4/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/gutiancheng/Desktop/ccc_proj2/COMP90024_Project2_v_4/frontend/src/views/Map.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/gutiancheng/Desktop/ccc_proj2/COMP90024_Project2_v_4/frontend/src/views/Map.vue","mtime":1651999116970},{"path":"/Users/gutiancheng/Desktop/ccc_proj2/COMP90024_Project2_v_4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1651237650000},{"path":"/Users/gutiancheng/Desktop/ccc_proj2/COMP90024_Project2_v_4/frontend/node_modules/babel-loader/lib/index.js","mtime":1651237651000},{"path":"/Users/gutiancheng/Desktop/ccc_proj2/COMP90024_Project2_v_4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1651237650000},{"path":"/Users/gutiancheng/Desktop/ccc_proj2/COMP90024_Project2_v_4/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1651237651000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgeyBMb2FkZXIgfSBmcm9tICJAZ29vZ2xlbWFwcy9qcy1hcGktbG9hZGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50UGxhY2U6IG51bGwsCiAgICAgIGN1cnJlbnRTY2VuYXJpbzogbnVsbCwKICAgICAgY3VycmVudEF1cmluOiBudWxsLAogICAgICBtYXg6IC1JbmZpbml0eSwKICAgICAgbWluOiBJbmZpbml0eQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuaW5pdERhdGEoKTsKICAgIHZhciBsb2FkZXIgPSBuZXcgTG9hZGVyKHsKICAgICAgYXBpS2V5OiBwcm9jZXNzLmVudi5WVUVfQVBQX0dPT0dMRV9NQVBfS0VZLAogICAgICB2ZXJzaW9uOiAid2Vla2x5IgogICAgfSk7CiAgICBsb2FkZXIubG9hZCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICB2YXIgZ29vZ2xlID0gd2luZG93Lmdvb2dsZTsKICAgICAgdmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1hcCIpLCB7CiAgICAgICAgc3R5bGVzOiBfdGhpcy4kc3RvcmUuc3RhdGUuc2lsdmVyX21hcCwKICAgICAgICBzdHJlZXRWaWV3Q29udHJvbDogZmFsc2UKICAgICAgfSk7CiAgICAgIF90aGlzLm1hcCA9IHdpbmRvdy5tYXAgPSBtYXA7CgogICAgICBfdGhpcy5zd2l0Y2hQbGFjZSgiQWRlbGFpZGUiKTsKCiAgICAgIF90aGlzLnNldENvbG9yKCk7CgogICAgICBfdGhpcy5pbmZvd2luZG93ID0gbmV3IHdpbmRvdy5nb29nbGUubWFwcy5JbmZvV2luZG93KCk7CiAgICAgIG1hcC5kYXRhLmFkZExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIF90aGlzLmNyZWF0ZUluZm9XaW5kb3cobWFwLCBldmVudCk7CiAgICAgIH0pOwogICAgICBtYXAuZGF0YS5hZGRMaXN0ZW5lcigibW91c2VvdmVyIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgbWFwLmRhdGEucmV2ZXJ0U3R5bGUoKTsKICAgICAgICBtYXAuZGF0YS5vdmVycmlkZVN0eWxlKGV2ZW50LmZlYXR1cmUsIHsKICAgICAgICAgIHN0cm9rZUNvbG9yOiAiZ3JleSIsCiAgICAgICAgICBzdHJva2VXZWlnaHQ6IDQKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIG1hcC5kYXRhLmFkZExpc3RlbmVyKCJtb3VzZW91dCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBtYXAuZGF0YS5yZXZlcnRTdHlsZSgpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuY3VycmVudFNjZW5hcmlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbF9zY2UiKS52YWx1ZTsKICAgIHRoaXMuY3VycmVudEF1cmluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbF9hdXIiKS52YWx1ZTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXREYXRhOiBmdW5jdGlvbiBpbml0RGF0YSgpIHsKICAgICAgdGhpcy5wbGFjZXMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5wbGFjZXM7CiAgICAgIHRoaXMuc2NlbmFyaW9zID0gdGhpcy4kc3RvcmUuc3RhdGUuc2NlbmFyaW9zOwogICAgICB0aGlzLmF1cmlucyA9IHRoaXMuJHN0b3JlLnN0YXRlLmF1cmluczsKICAgICAgdGhpcy5nb29nbGUgPSB3aW5kb3cuZ29vZ2xlOwogICAgfSwKICAgIGNsZWFyTWFwOiBmdW5jdGlvbiBjbGVhck1hcCgpIHsKICAgICAgdmFyIF90aGlzJGluZm93aW5kb3c7CgogICAgICB2YXIgbWFwID0gdGhpcy5tYXA7CiAgICAgIChfdGhpcyRpbmZvd2luZG93ID0gdGhpcy5pbmZvd2luZG93KSA9PT0gbnVsbCB8fCBfdGhpcyRpbmZvd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRpbmZvd2luZG93LmNsb3NlKCk7CiAgICAgIG1hcC5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGZlYXR1cmUpIHsKICAgICAgICBtYXAuZGF0YS5yZW1vdmUoZmVhdHVyZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHN3aXRjaFBsYWNlOiBmdW5jdGlvbiBzd2l0Y2hQbGFjZShldmVudCkgewogICAgICB2YXIgX2V2ZW50JHRhcmdldDsKCiAgICAgIHRoaXMuY2xlYXJNYXAoKTsKICAgICAgdmFyIG4gPSAoKF9ldmVudCR0YXJnZXQgPSBldmVudC50YXJnZXQpID09PSBudWxsIHx8IF9ldmVudCR0YXJnZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCR0YXJnZXQudmFsdWUpIHx8IGV2ZW50OwogICAgICB2YXIgX3RoaXMkcGxhY2VzJG4gPSB0aGlzLnBsYWNlc1tuXSwKICAgICAgICAgIGNvb3JkcyA9IF90aGlzJHBsYWNlcyRuLmNvb3JkcywKICAgICAgICAgIHpvb20gPSBfdGhpcyRwbGFjZXMkbi56b29tLAogICAgICAgICAgZmlsZW5hbWUgPSBfdGhpcyRwbGFjZXMkbi5maWxlbmFtZTsKICAgICAgdmFyIG1hcCA9IHRoaXMubWFwOwogICAgICB2YXIgdXJsID0gImh0dHA6Ly8xMjcuMC4wLjE6NTAwMC9tYXAvIiArIGZpbGVuYW1lOwogICAgICB0aGlzLmN1cnJlbnRQbGFjZSA9IHRoaXMucGxhY2VzW25dOwogICAgICBtYXAuc2V0Wm9vbSh6b29tKTsKICAgICAgbWFwLnNldENlbnRlcihjb29yZHMpOwogICAgICBtYXAuZGF0YS5sb2FkR2VvSnNvbih1cmwpOwogICAgICBjb25zb2xlLmxvZygidXJsIiwgdXJsKTsKICAgIH0sCiAgICBzd2l0Y2hTY2VuYXJpbzogZnVuY3Rpb24gc3dpdGNoU2NlbmFyaW8oZSkgewogICAgICB0aGlzLmN1cnJlbnRTY2VuYXJpbyA9IGUudGFyZ2V0LnZhbHVlOwogICAgICB0aGlzLmluZm93aW5kb3cuY2xvc2UoKTsKICAgIH0sCiAgICBzd2l0Y2hBdXJpbjogZnVuY3Rpb24gc3dpdGNoQXVyaW4oZSkgewogICAgICB0aGlzLmN1cnJlbnRBdXJpbiA9IGUudGFyZ2V0LnZhbHVlOwogICAgICB0aGlzLmluZm93aW5kb3cuY2xvc2UoKTsKICAgICAgdGhpcy5zZXRDb2xvcigpOwogICAgfSwKICAgIGNyZWF0ZUluZm9XaW5kb3c6IGZ1bmN0aW9uIGNyZWF0ZUluZm9XaW5kb3cobWFwLCBldmVudCkgewogICAgICAvLyBsZXQgbmFtZSA9IGV2ZW50LmZlYXR1cmUuZ2V0UHJvcGVydHkodGhpcy5jdXJyZW50UGxhY2UucGxhY2VGaWVsZCk7CiAgICAgIHZhciBpbmNvbWVfdHdpdHRlciA9IGV2ZW50LmZlYXR1cmUuZ2V0UHJvcGVydHkoImluY29tZSIpOwogICAgICB2YXIgY3JpbWVfdHdpdHRlciA9IGV2ZW50LmZlYXR1cmUuZ2V0UHJvcGVydHkoImNyaW1lIik7CiAgICAgIHZhciBkaXNhYmxlZF90d2l0dGVyID0gZXZlbnQuZmVhdHVyZS5nZXRQcm9wZXJ0eSgiZGlzYWJsZWQiKTsKICAgICAgdmFyIGluY29tZV9hdXJpbmUgPSBldmVudC5mZWF0dXJlLmdldFByb3BlcnR5KCJhYnNfam9iIilbMl07CiAgICAgIHZhciBjcmltZV9hdXJpbmUgPSBldmVudC5mZWF0dXJlLmdldFByb3BlcnR5KCJkZXNlX3VuZW1wbG95IilbMV07CiAgICAgIHZhciBkaXNhYmxlZF9hdXJpbmUgPSBldmVudC5mZWF0dXJlLmdldFByb3BlcnR5KCJuZGlhX251bWJlciIpOwogICAgICB2YXIgaW5jb21lX3R3aXR0ZXJfaHRtbCA9ICI8ZGl2PkluY29tZSB0d2l0dGVyOiAiLmNvbmNhdChpbmNvbWVfdHdpdHRlciwgIjwvZGl2PiIpOwogICAgICB2YXIgY3JpbWVfdHdpdHRlcl9odG1sID0gIjxkaXY+Q3JpbWUgdHdpdHRlcjogIi5jb25jYXQoY3JpbWVfdHdpdHRlciwgIjwvZGl2PiIpOwogICAgICB2YXIgZGlzYWJsZWRfdHdpdHRlcl9odG1sID0gIjxkaXY+RGlzYWJsZWQgdHdpdHRlcjogIi5jb25jYXQoZGlzYWJsZWRfdHdpdHRlciwgIjwvZGl2PiIpOwogICAgICB2YXIgaW5jb21lX2F1cmluZV9odG1sID0gIjxkaXY+SW5jb21lX2F1cmluZTogIi5jb25jYXQoaW5jb21lX2F1cmluZSwgIjwvZGl2PiIpOwogICAgICB2YXIgY3JpbWVfYXVyaW5lX2h0bWwgPSAiPGRpdj5DcmltZSBhdXJpbmU6ICIuY29uY2F0KGNyaW1lX2F1cmluZSwgIjwvZGl2PiIpOwogICAgICB2YXIgZGlzYWJsZWRfYXVyaW5lX2h0bWwgPSAiPGRpdj5EaXNhYmxlZCBhdXJpbmU6ICIuY29uY2F0KGRpc2FibGVkX2F1cmluZSwgIjwvZGl2PiIpOwogICAgICB2YXIgY29udGVudFN0cmluZyA9ICI8ZGl2IGlkPVwiY29udGVudFwiPlxuICAgICAgICAgICAgPGg1IGlkPVwiZmlyc3RIZWFkaW5nXCIgY2xhc3M9XCJmaXJzdEhlYWRpbmdcIj4iLmNvbmNhdCh0aGlzLmN1cnJlbnRQbGFjZS5uYW1lLCAiPC9oNT5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJib2R5Q29udGVudFwiPlxuICAgICAgICAgICAgICAiKS5jb25jYXQodGhpcy5jdXJyZW50U2NlbmFyaW8gPT09ICJJbmNvbWUiID8gaW5jb21lX3R3aXR0ZXJfaHRtbCA6ICIiLCAiXG4gICAgICAgICAgICAgICIpLmNvbmNhdCh0aGlzLmN1cnJlbnRTY2VuYXJpbyA9PT0gIkNyaW1lIiA/IGNyaW1lX3R3aXR0ZXJfaHRtbCA6ICIiLCAiXG4gICAgICAgICAgICAgICIpLmNvbmNhdCh0aGlzLmN1cnJlbnRTY2VuYXJpbyA9PT0gIkRpc2FibGVkIiA/IGRpc2FibGVkX3R3aXR0ZXJfaHRtbCA6ICIiLCAiXG4gICAgICAgICAgICAgICIpLmNvbmNhdCh0aGlzLmN1cnJlbnRBdXJpbiA9PT0gIkluY29tZSIgPyBpbmNvbWVfYXVyaW5lX2h0bWwgOiAiIiwgIlxuICAgICAgICAgICAgICAiKS5jb25jYXQodGhpcy5jdXJyZW50QXVyaW4gPT09ICJEaXNhYmxlZCIgPyBkaXNhYmxlZF9hdXJpbmVfaHRtbCA6ICIiLCAiXG4gICAgICAgICAgICAgICIpLmNvbmNhdCh0aGlzLmN1cnJlbnRBdXJpbiA9PT0gIkNyaW1lIiA/IGNyaW1lX2F1cmluZV9odG1sIDogIiIsICJcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICA8L2Rpdj4iKTsgLy8gQ2VudGVyIGluZm8gd2luZG93IG9uIHNlbGVjdGVkIHppcCBjb2RlIGFyZWEKICAgICAgLy8gRmluZCBjZW50ZXIgb2YgemlwIGNvZGUgYXJlYSBieSBjb252ZXJ0aW5nCiAgICAgIC8vIHRoZSBjb3JyZXNwb25kaW5nIFBvbHlnb24gb2JqZWN0IHRvIGEKICAgICAgLy8gTGF0TG5nQm91bmRzIG9iamVjdCB3aGljaCBoYXMgdGhlIGdldENlbnRlciBmdW5jdGlvbgoKICAgICAgdmFyIGJvdW5kcyA9IG5ldyB3aW5kb3cuZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCk7CiAgICAgIHZhciBnZW9tZXRyeSA9IGV2ZW50LmZlYXR1cmUuZ2V0R2VvbWV0cnkoKTsKICAgICAgZ2VvbWV0cnkuZm9yRWFjaExhdExuZyhmdW5jdGlvbiAocG9pbnQpIHsKICAgICAgICBib3VuZHMuZXh0ZW5kKHsKICAgICAgICAgIGxhdDogcG9pbnQubGF0KCksCiAgICAgICAgICBsbmc6IHBvaW50LmxuZygpCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB2YXIgY2VudGVyID0gYm91bmRzLmdldENlbnRlcigpOwogICAgICB2YXIgbWFya2VyID0gbmV3IHdpbmRvdy5nb29nbGUubWFwcy5NYXJrZXIoewogICAgICAgIHBvc2l0aW9uOiBjZW50ZXIsCiAgICAgICAgbWFwOiBtYXAsCiAgICAgICAgdmlzaWJsZTogZmFsc2UKICAgICAgfSk7IC8vIENyZWF0ZSBpbmZvIHdpbmRvdwoKICAgICAgdGhpcy5pbmZvd2luZG93LnNldENvbnRlbnQoY29udGVudFN0cmluZyk7CiAgICAgIHRoaXMuaW5mb3dpbmRvdy5vcGVuKG1hcCwgbWFya2VyKTsKICAgIH0sCiAgICBnZXRJbmNvbWVGaWxsOiBmdW5jdGlvbiBnZXRJbmNvbWVGaWxsKGluY29tZSkgewogICAgICBpZiAoaW5jb21lID09PSAiSW5jb21lIikgewogICAgICAgIHJldHVybiAiZ3JleSI7CiAgICAgIH0KCiAgICAgIHZhciBMID0gaW5jb21lID4gMzYwMDAwID8gIjUwJSIgOiA5MCAtIChpbmNvbWUgLyAzNjAwMCA+PiAwKSAqIDQ7CiAgICAgIHJldHVybiAiaHNsKDQwZGVnIDEwMCUgIi5jb25jYXQoTCwgIiUpIik7CiAgICB9LAogICAgZ2V0Q3JpbWVGaWxsOiBmdW5jdGlvbiBnZXRDcmltZUZpbGwoY3JpbWUpIHsKICAgICAgaWYgKGNyaW1lID09PSAiQ3JpbWUiKSB7CiAgICAgICAgcmV0dXJuICJncmV5IjsKICAgICAgfQoKICAgICAgdmFyIEwgPSBjcmltZSA+IDM2MDAwMCA/ICI1MCUiIDogOTAgLSAoY3JpbWUgLyAzNjAwMCA+PiAwKSAqIDQ7CiAgICAgIHJldHVybiAiaHNsKDQwZGVnIDEwMCUgIi5jb25jYXQoTCwgIiUpIik7CiAgICB9LAogICAgZ2V0RGlzYWJsZWRGaWxsOiBmdW5jdGlvbiBnZXREaXNhYmxlZEZpbGwoZGlzYWJsZWQpIHsKICAgICAgaWYgKGRpc2FibGVkID09PSAiRGlzYWJsZWQiKSB7CiAgICAgICAgcmV0dXJuICJncmV5IjsKICAgICAgfQoKICAgICAgdmFyIEwgPSBkaXNhYmxlZCA+IDM2MDAwMCA/ICI1MCUiIDogOTAgLSAoZGlzYWJsZWQgLyAzNjAwMCA+PiAwKSAqIDQ7CiAgICAgIHJldHVybiAiaHNsKDQwZGVnIDEwMCUgIi5jb25jYXQoTCwgIiUpIik7CiAgICB9LAogICAgc2V0Q29sb3I6IGZ1bmN0aW9uIHNldENvbG9yKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMubWFwLmRhdGEuc2V0U3R5bGUoZnVuY3Rpb24gKGZlYXR1cmUpIHsKICAgICAgICB2YXIgY29sb3I7CiAgICAgICAgdmFyIGNyaW1lID0gZmVhdHVyZS5nZXRQcm9wZXJ0eSgibmRpYV9udW1iZXIiKTsKICAgICAgICB2YXIgaW5jb21lID0gZmVhdHVyZS5nZXRQcm9wZXJ0eSgiYWJzX2pvYiIpWzJdOwogICAgICAgIHZhciBkaXNhYmxlZCA9IGZlYXR1cmUuZ2V0UHJvcGVydHkoImRlc2VfdW5lbXBsb3kiKVsxXTsKCiAgICAgICAgaWYgKF90aGlzMi5jdXJyZW50QXVyaW4gPT09ICJDcmltZSIpIHsKICAgICAgICAgIGNvbG9yID0gX3RoaXMyLmdldENyaW1lRmlsbChjcmltZSk7CiAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuY3VycmVudEF1cmluID09PSAiSW5jb21lIikgewogICAgICAgICAgY29sb3IgPSBfdGhpczIuZ2V0SW5jb21lRmlsbChpbmNvbWUpOwogICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmN1cnJlbnRBdXJpbiA9PT0gIkRpc2FibGVkIikgewogICAgICAgICAgY29sb3IgPSBfdGhpczIuZ2V0RGlzYWJsZWRGaWxsKGRpc2FibGVkKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBmaWxsQ29sb3I6IGNvbG9yLAogICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgIHN0cm9rZUNvbG9yOiBjb2xvciwKICAgICAgICAgIHN0cm9rZVdlaWdodDogMQogICAgICAgIH07CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/gutiancheng/Desktop/ccc_proj2/COMP90024_Project2_v_4/frontend/src/views/Map.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- Thanks COMP 90024 TEAM 68 Provide template Reference : https://github.com/CCC68/COMP90024_Project2, Hanzhen Yang 1070951, Hanzhong Wang, 1029740, Quan Zhou 1065302, Yuhang Xie 1089250, Ze Liu 1073628\nModoified By COMP90024 TEAM 45\nYingpei Ni 1252881\nYixue Jiang 1023137\nZirui Shan  1298781\nJinglin Li 1000797\nYuxiang Xie 1060196 -->\n<template>\n  <div class=\"datamap view\">\n    <div id=\"map\"></div>\n    <div class=\"footer\">\n      <div class=\"container\">\n        <div class=\"filters\">\n          <div class=\"input-group\">\n            <label class=\"input-group-text\" for=\"sel_pla\">Place</label>\n            <select\n              class=\"form-select\"\n              id=\"sel_pla\"\n              @change=\"switchPlace($event)\"\n            >\n              <option v-for=\"place in places\" :key=\"place\" :value=\"place.n\">\n                {{ place.name }}\n              </option>\n            </select>\n          </div>\n\n          <div class=\"input-group\">\n            <label class=\"input-group-text\" for=\"sel_sce\">Twitter Data</label>\n            <select\n              class=\"form-select\"\n              id=\"sel_sce\"\n              @change=\"switchScenario($event)\"\n            >\n              <option v-for=\"scenario in scenarios\" :key=\"scenario\">\n                {{ scenario }}\n              </option>\n            </select>\n          </div>\n\n          <div class=\"input-group\">\n            <label class=\"input-group-text\" for=\"sel_aur\">Aurin Data</label>\n            <select\n              class=\"form-select\"\n              id=\"sel_aur\"\n              @change=\"switchAurin($event)\"\n            >\n              <option v-for=\"aurin in aurins\" :key=\"aurin\">{{ aurin }}</option>\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Loader } from \"@googlemaps/js-api-loader\";\nexport default {\n  setup() {},\n  data() {\n    return {\n      currentPlace: null,\n      currentScenario: null,\n      currentAurin: null,\n      max: -Infinity,\n      min: Infinity,\n    };\n  },\n  computed: {\n  },\n  beforeMount() {\n    this.initData();\n\n    const loader = new Loader({\n      apiKey: process.env.VUE_APP_GOOGLE_MAP_KEY,\n      version: \"weekly\",\n    });\n\n    loader.load().then(() => {\n      let google = window.google;\n      let map = new google.maps.Map(document.getElementById(\"map\"), {\n        styles: this.$store.state.silver_map,\n        streetViewControl: false,\n      });\n\n      this.map = window.map = map;\n\n      this.switchPlace(\"Adelaide\");\n      this.setColor();\n\n      this.infowindow = new window.google.maps.InfoWindow();\n\n      map.data.addListener(\"click\", (event) => {\n        this.createInfoWindow(map, event);\n      });\n\n      map.data.addListener(\"mouseover\", (event) => {\n        map.data.revertStyle();\n        map.data.overrideStyle(event.feature, {\n          strokeColor: \"grey\",\n          strokeWeight: 4,\n        });\n      });\n      map.data.addListener(\"mouseout\", () => {\n        map.data.revertStyle();\n      });\n    });\n  },\n  mounted() {\n    this.currentScenario = document.getElementById(\"sel_sce\").value;\n    this.currentAurin = document.getElementById(\"sel_aur\").value;\n  },\n  methods: {\n    initData() {\n      this.places = this.$store.state.places;\n      this.scenarios = this.$store.state.scenarios;\n      this.aurins = this.$store.state.aurins;\n      this.google = window.google;\n    },\n    \n    clearMap() {\n      let map = this.map;\n      this.infowindow?.close();\n      map.data.forEach(function (feature) {\n        map.data.remove(feature);\n      });\n    },\n    \n    switchPlace(event) {\n      this.clearMap();\n      let n = event.target?.value || event;\n      let { coords, zoom, filename } = this.places[n];\n      let map = this.map;\n      let url = \"http://127.0.0.1:5000/map/\" + filename; \n      this.currentPlace = this.places[n];\n\n      map.setZoom(zoom);\n      map.setCenter(coords);\n      map.data.loadGeoJson(url);\n      console.log(\"url\",url)\n    },\n\n    switchScenario(e) {\n      this.currentScenario = e.target.value;\n      this.infowindow.close();\n    },\n\n    switchAurin(e) {\n      this.currentAurin = e.target.value;\n      this.infowindow.close();\n      this.setColor();\n    },\n\n    createInfoWindow(map, event) {\n      // let name = event.feature.getProperty(this.currentPlace.placeField);\n\n      let income_twitter = event.feature.getProperty(\"income\");\n      let crime_twitter = event.feature.getProperty(\"crime\");\n      let disabled_twitter = event.feature.getProperty(\"disabled\");\n      let income_aurine = event.feature.getProperty(\"abs_job\")[2];\n      let crime_aurine = event.feature.getProperty(\"dese_unemploy\")[1];\n      let disabled_aurine = event.feature.getProperty(\"ndia_number\");\n\n      let income_twitter_html = `<div>Income twitter: ${income_twitter}</div>`;\n      let crime_twitter_html = `<div>Crime twitter: ${crime_twitter}</div>`;\n      let disabled_twitter_html = `<div>Disabled twitter: ${disabled_twitter}</div>`;\n      let income_aurine_html = `<div>Income_aurine: ${income_aurine}</div>`;\n      let crime_aurine_html = `<div>Crime aurine: ${crime_aurine}</div>`;\n      let disabled_aurine_html = `<div>Disabled aurine: ${disabled_aurine}</div>`;\n      let contentString = `<div id=\"content\">\n            <h5 id=\"firstHeading\" class=\"firstHeading\">${this.currentPlace.name}</h5>\n            <div id=\"bodyContent\">\n              ${this.currentScenario === \"Income\" ? income_twitter_html : \"\"}\n              ${this.currentScenario === \"Crime\" ? crime_twitter_html : \"\"}\n              ${this.currentScenario === \"Disabled\" ? disabled_twitter_html : \"\"}\n              ${this.currentAurin === \"Income\" ? income_aurine_html : \"\"}\n              ${this.currentAurin === \"Disabled\" ? disabled_aurine_html : \"\"}\n              ${this.currentAurin === \"Crime\" ? crime_aurine_html : \"\"}\n            </div>\n           </div>`;\n\n      // Center info window on selected zip code area\n      // Find center of zip code area by converting\n      // the corresponding Polygon object to a\n      // LatLngBounds object which has the getCenter function\n      var bounds = new window.google.maps.LatLngBounds();\n      var geometry = event.feature.getGeometry();\n\n      geometry.forEachLatLng(function (point) {\n        bounds.extend({\n          lat: point.lat(),\n          lng: point.lng(),\n        });\n      });\n      \n      var center = bounds.getCenter();\n\n      var marker = new window.google.maps.Marker({\n        position: center,\n        map: map,\n        visible: false,\n      });\n      // Create info window\n      this.infowindow.setContent(contentString);\n      this.infowindow.open(map, marker);\n    },\n    \n    getIncomeFill(income) {\n      if (income === \"Income\") {\n        return \"grey\";\n      }\n      let L =\n        income > 360000 ? \"50%\" : 90 - ((income / 36000) >> 0) * 4;\n      return `hsl(40deg 100% ${L}%)`;\n    },\n    getCrimeFill(crime) {\n      if (crime === \"Crime\") {\n        return \"grey\";\n      }\n      let L =\n        crime > 360000 ? \"50%\" : 90 - ((crime / 36000) >> 0) * 4;\n      return `hsl(40deg 100% ${L}%)`;\n    },\n    getDisabledFill(disabled) {\n      if (disabled === \"Disabled\") {\n        return \"grey\";\n      }\n      let L =\n        disabled > 360000 ? \"50%\" : 90 - ((disabled / 36000) >> 0) * 4;\n      return `hsl(40deg 100% ${L}%)`;\n    },\n    setColor() {\n      this.map.data.setStyle((feature) => {\n        let color;\n        let crime = feature.getProperty(\"ndia_number\");\n        let income = feature.getProperty(\"abs_job\")[2];\n        let disabled = feature.getProperty(\"dese_unemploy\")[1];\n        if (this.currentAurin === \"Crime\") {\n          color = this.getCrimeFill(crime);\n        } else if (this.currentAurin === \"Income\") {\n          color = this.getIncomeFill(income);\n        } else if (this.currentAurin === \"Disabled\") {\n          color = this.getDisabledFill(disabled);\n        }\n        return {\n          fillColor: color,\n          fillOpacity: 0.7,\n          strokeColor: color,\n          strokeWeight: 1,\n        };\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.about {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n#map {\n  width: 100%;\n  height: 100%;\n}\n\n.footer {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 72px;\n  background: #ffffff70;\n  backdrop-filter: blur(5px);\n}\n\n.filters {\n  display: flex;\n  justify-content: space-between;\n}\n\n.filters > .input-group {\n  width: 30%;\n}\n\n#legend {\n  position: absolute;\n  left: 10px;\n  bottom: 82px;\n  height: 430px;\n  width: 78px;\n  padding: 0.5em;\n  background: #fff;\n  z-index: 1000;\n  display: flex;\n  flex-direction: column;\n  box-shadow: rgb(0 0 0 / 30%) 0px 1px 4px -1px;\n}\n\n#legend .title {\n  font-size: 12px;\n  text-align: center;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #333;\n}\n\n#legendColors {\n  display: flex;\n  flex: 1 1;\n  flex-direction: column;\n}\n</style>\n<style>\ndiv.gm-style-mtc,\nbutton.gm-fullscreen-control {\n  top: 72px !important;\n}\ndiv.gmnoprint.gm-bundled-control.gm-bundled-control-on-bottom {\n  bottom: 152px !important;\n}\n\n#legendColors .subColor {\n  flex: 1;\n  display: inline-flex;\n  font-size: 12px;\n  align-items: center;\n  justify-content: center;\n}\n\n#legendColors .value {\n  color: #fff;\n  text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black\n}\n</style>"],"sourceRoot":""}]}